<li class="p-4 relative flex flex-col h-full cursor-pointer hover:bg-gray-50 transition-colors duration-150" id="chore-{{ chore.id }}" x-data="{ openDetails: () => window.location.href='{% url 'chore_details' chore.id %}' }">
    <div class="flex items-center justify-between mb-2" @click="openDetails()">
        <div class="flex items-center flex-grow mr-2 overflow-hidden">
            <h3 class="text-lg font-semibold truncate">{{ chore.title }}</h3>
            <span class="text-xs font-semibold px-2.5 py-0.5 rounded ml-2 whitespace-nowrap
                {% if chore.priority == 1 %}
                    bg-green-100 text-green-800
                {% elif chore.priority == 2 %}
                    bg-yellow-100 text-yellow-800
                {% elif chore.priority == 3 %}
                    bg-red-100 text-red-800
                {% endif %}">
                Priority: {{ chore.get_priority_display }}
            </span>
        </div>
        <div class="flex-shrink-0 text-right whitespace-nowrap">
            <span class="font-semibold text-xs">Assigned by:</span>
            <span class="inline-block bg-gray-100 text-gray-800 text-xs font-semibold px-2 py-0.5 rounded ml-1">
                {{ chore.created_by.username }}
            </span>
        </div>
    </div>
    <p class="text-gray-600 mb-2" @click="openDetails()">Due: {{ chore.due_date|default:"No due date" }}</p>
    <div class="mt-auto flex items-center justify-between">
        <form hx-post="{% url 'update_chore_status_home' chore.id %}" 
              hx-trigger="change from:select[name='status']"
              hx-target="#chore-list"
              hx-swap="innerHTML"
              class="inline"
              @click.stop>
            {% csrf_token %}
            <select 
                name="status" 
                class="text-xs font-semibold px-2.5 py-0.5 rounded cursor-pointer"
                x-data="{ status: '{{ chore.status }}' }"
                x-bind:class="{
                    'bg-yellow-100 text-yellow-800': status === 'pending',
                    'bg-blue-100 text-blue-800': status === 'in_progress',
                    'bg-green-100 text-green-800': status === 'completed'
                }"
                x-on:change="status = $event.target.value"
            >
                {% for status, display in chore.STATUS_CHOICES %}
                    <option value="{{ status }}" {% if status == chore.status %}selected{% endif %}>{{ display }}</option>
                {% endfor %}
            </select>
        </form>
    </div>
</li>